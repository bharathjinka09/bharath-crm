{% extends 'accounts/base.html' %}
{% include 'partials/messages.html' %}
{% block content %}
	<br>

	<div class="row">
		<div class="col-md">
			<div class="card card-body">
				<h5>Customer:</h5>
				<hr>
				<a class="btn btn-outline-info  btn-sm btn-block" href="">Update Customer</a>
				<a class="btn btn-outline-info  btn-sm btn-block" href="{% url 'create_order' customer.id %}">Place Order</a>

			</div>
		</div>

		<div class="col-md">
			<div class="card card-body">
				<h5>Contact Information</h5>
				<hr>
				<p>Email: {{customer.email}}</p>
				<p>Phone: {{customer.phone}}</p>
			</div>
		</div>

		<div class="col-md">
			<div class="card card-body">
				<h5>Total Orders</h5>
				<hr>
				<h1 style="text-align: center;padding: 10px">{{order_count}}</h1>
			</div>
		</div>
	</div>


	<br>
	<div class="row">
		<div class="col">
			<div class="card card-body">
				<form method="get">
					{{myFilter.form}}
			    <button class="btn btn-primary" type="submit">Search</button>
			  </form>
			</div>
		</div>
		
	</div>
	<br>

	<div class="row">
		<div class="col-md">
			<div class="card card-body">
				<table class="table table-lg table-responsive">
					<tr>
						<th>Product</th>
						<th>Category</th>
						<th>Date Ordered</th>
						<th>Status</th>
						<th>Update</th>
						<th>Remove</th>
					</tr>

					{% for order in orders %}

						<tr>
							<td>{{order.product}}</td>
							<td>{{order.product.category}}</td>
							<td>{{order.date_created}}</td>
							<td>{{order.status}}</td>
							<td><a class="btn btn-sm btn-outline-info" href="{% url 'update_order' order.id %}">Update</a></td>
							<td><a class="btn btn-sm btn-outline-danger" href="{% url 'delete_order' order.id %}">Remove</a></td>
						</tr>

					{% endfor %}

				</table>
			</div>
		</div>
	</div>
	
	<script type="text/javascript">
			
		var product = document.getElementById("id_product");
		product.classList.add("form-control");
		product.style.width = '50%';
	</script>
	
	<script type="text/javascript">

		var status_box = document.getElementById("id_status");
		status_box.classList.add("form-control");
		status_box.style.width = '50%';

	</script>

	<script type="text/javascript">
		var id_start_date = document.getElementById("id_start_date");
		id_start_date.classList.add("form-control");
		id_start_date.style.width = '50%';

	</script>

	<script type="text/javascript">
		var id_end_date = document.getElementById("id_end_date");
		id_end_date.classList.add("form-control");
		id_end_date.style.width = '50%';

	</script>

	<script type="text/javascript">
		var id_end_date = document.getElementById("id_end_date");
		id_end_date.classList.add("mb-2");
	</script>
	
{% endblock content %}
